(this["webpackJsonpreact-course"]=this["webpackJsonpreact-course"]||[]).push([[0],{14:function(e,t,c){e.exports={image:"MeetupItem_image__3xm_g",actions:"MeetupItem_actions__1ko6G"}},18:function(e,t,c){e.exports={main:"Layout_main__7RlTU"}},19:function(e,t,c){e.exports={header:"NavigationBar_header__s_Yr7",active:"NavigationBar_active__nqaxK"}},21:function(e,t,c){e.exports={card:"Card_card__1mm62"}},28:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(17),i=c.n(n),s=c(22),a=(c(28),c(13)),o=c(18),j=c.n(o),d=c(11),l=c(12),u=c(0),b=Object(r.createContext)({favorites:[],total:0,addFavorite:function(e){},removeFavorite:function(e){},isFavorite:function(e){}});function O(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),n=c[0],i=c[1];var s={favorites:n,total:n.length,addFavorite:function(e){i((function(t){return t.concat(e)}))},removeFavorite:function(e){i((function(t){return t.filter((function(t){return t.id!==e}))}))},isFavorite:function(e){return n.some((function(t){return t.id===e}))}};return Object(u.jsx)(b.Provider,{value:s,children:e.children})}var h=b,x=c(19),m=c.n(x);var v=function(){var e=Object(r.useContext)(h);return Object(u.jsxs)("header",{className:m.a.header,children:[Object(u.jsx)("h1",{children:" Meetups"}),Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(d.a,{to:"/",children:" All meetups "})}),Object(u.jsx)("li",{children:Object(u.jsx)(d.a,{to:"/new-meetup",children:" New Meetup "})}),Object(u.jsx)("li",{children:Object(u.jsxs)(d.a,{to:"/favorites",children:[" Favorites ",Object(u.jsx)("span",{className:"total",children:e.total})," "]})})]})})]})};var f=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)(v,{}),Object(u.jsx)("main",{className:j.a.main,children:e.children})]})},p=c(23),_=c(21),g=c.n(_);var N=function(e){return Object(u.jsx)("div",{className:g.a.card,children:e.children})},F=c(14),w=c.n(F);var R=function(e){var t=Object(r.useContext)(h),c=t.isFavorite(e.id);return Object(u.jsxs)(N,{children:[Object(u.jsx)("div",{className:w.a.image,children:Object(u.jsx)("img",{src:e.image,alt:e.title})}),Object(u.jsxs)("div",{className:w.a.content,children:[Object(u.jsx)("h1",{children:e.title}),Object(u.jsx)("address",{children:e.address}),Object(u.jsx)("p",{children:e.desc})]}),Object(u.jsx)("div",{className:w.a.actions,children:Object(u.jsx)("button",{onClick:function(){c?t.removeFavorite(e.id):t.addFavorite({id:e.id,title:e.title,desc:e.desc,image:e.image,address:e.address})},children:c?"REMOVE FAVORITE":"TO FAVORITES"})})]})};var y=function(e){return Object(u.jsx)("ul",{children:e.meetups.map((function(e){return Object(u.jsx)(R,{id:e.id,image:e.image,title:e.title,address:e.address,desc:e.desc},e.id)}))})};var M=function(){var e=Object(r.useState)(!0),t=Object(l.a)(e,2),c=t[0],n=t[1],i=Object(r.useState)([]),s=Object(l.a)(i,2),a=s[0],o=s[1];return Object(r.useEffect)((function(){n(!0),fetch("https://react-meetups-c6366-default-rtdb.firebaseio.com/meetups.json").then((function(e){return e.json()})).then((function(e){var t=[];for(var c in e){var r=Object(p.a)({id:c},e[c]);t.push(r)}n(!1),o(t)}))}),[]),c?Object(u.jsx)("div",{children:" Loading...."}):Object(u.jsxs)("section",{children:[Object(u.jsx)("h1",{children:" All meetups"}),Object(u.jsx)(y,{meetups:a})]})};var A=function(){var e,t=Object(r.useContext)(h);return e=0===t.total?"You got no favorites yet...":Object(u.jsx)(y,{meetups:t.favorites}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:" Your favorites:"}),e]})},S=c(2),C=c(8),T=c.n(C);var E=function(e){var t=Object(r.useRef)(),c=Object(r.useRef)(),n=Object(r.useRef)(),i=Object(r.useRef)();return Object(u.jsx)(N,{children:Object(u.jsxs)("form",{className:T.a.form,onSubmit:function(r){r.preventDefault();var s={title:t.current.value,image:c.current.value,address:n.current.value,description:i.current.value};e.onAddMeetup(s)},children:[Object(u.jsxs)("div",{className:T.a.control,children:[Object(u.jsx)("label",{htmlFor:"title",children:"Title"}),Object(u.jsx)("input",{type:"text",required:!0,id:"title",ref:t})]}),Object(u.jsxs)("div",{className:T.a.control,children:[Object(u.jsx)("label",{htmlFor:"image",children:"Image"}),Object(u.jsx)("input",{type:"url",required:!0,id:"image",ref:c})]}),Object(u.jsxs)("div",{className:T.a.control,children:[Object(u.jsx)("label",{htmlFor:"address",children:"Address"}),Object(u.jsx)("input",{type:"text",required:!0,id:"address",ref:n})]}),Object(u.jsxs)("div",{className:T.a.control,children:[Object(u.jsx)("label",{htmlFor:"desc",children:" Description "}),Object(u.jsx)("textarea",{id:"desc",rows:"5",required:!0,ref:i})]}),Object(u.jsx)("div",{className:T.a.actions,children:Object(u.jsx)("button",{children:" Add meetup"})})]})})};var I=function(){var e=Object(S.useHistory)();return Object(u.jsxs)("section",{children:[Object(u.jsx)("h1",{children:"Add new meetup"}),Object(u.jsx)(E,{onAddMeetup:function(t){fetch("https://react-meetups-c6366-default-rtdb.firebaseio.com/meetups.json",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(){e.replace("/")}))}})]})};var q=function(){return Object(u.jsx)(f,{children:Object(u.jsxs)(a.Switch,{children:[Object(u.jsx)(a.Route,{path:"/",exact:!0,children:Object(u.jsx)(M,{})}),Object(u.jsx)(a.Route,{path:"/favorites",children:Object(u.jsx)(A,{})}),Object(u.jsx)(a.Route,{path:"/new-meetup",children:Object(u.jsx)(I,{})})]})})};i.a.render(Object(u.jsx)(O,{children:Object(u.jsx)(s.BrowserRouter,{children:Object(u.jsx)(q,{})})}),document.getElementById("root"))},8:function(e,t,c){e.exports={form:"NewMeetupForm_form__2QSHl",control:"NewMeetupForm_control__3Lhag",actions:"NewMeetupForm_actions__1Nsg5"}}},[[38,1,2]]]);
//# sourceMappingURL=main.43a37fff.chunk.js.map